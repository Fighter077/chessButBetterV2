<div class="dialog-wrapper">
    <div class="dialog-inner">
        <div class="dialog-header">
            <h2 mat-dialog-title>{{ "LOGIN" | translate }}</h2>
        </div>

        <div class="form-wrapper">
            <div class="form">
                <!-- Sign Up form -->
                <form [formGroup]="convertForm" (ngSubmit)="submit()">
                    <mat-form-field appearance="fill">
                        <mat-label>{{ "USERNAME" | translate }}</mat-label>
                        <input matInput formControlName="username" autocomplete="username">
                        @if (convertForm.get('username')?.hasError('required')) {
                        <mat-error>{{ "USERNAME_REQUIRED" | translate }}</mat-error>
                        } @else if (convertForm.get('username')?.hasError('minlength')) {
                        <mat-error>{{ "USERNAME_MIN_LENGTH" | translate }}</mat-error>
                        } @else if (convertForm.get('username')?.hasError('maxlength')) {
                        <mat-error>{{ "USERNAME_MAX_LENGTH" | translate }}</mat-error>
                        } @else if (convertForm.get('username')?.hasError('pattern')) {
                        <mat-error>{{ "USERNAME_INVALID" | translate }}</mat-error>
                        } @else if (convertForm.get('username')?.hasError('taken')) {
                        <mat-error>{{ "USERNAME_TAKEN" | translate }}</mat-error>
                        }
                    </mat-form-field>
                    <mat-form-field appearance="fill">
                        <mat-label>{{ "EMAIL" | translate }}</mat-label>
                        <input matInput formControlName="email" autocomplete="email">
                        @if (convertForm.get('email')?.hasError('required')) {
                        <mat-error>{{ "EMAIL_REQUIRED" | translate }}</mat-error>
                        } @else if (convertForm.get('email')?.hasError('email')) {
                        <mat-error>{{ "EMAIL_INVALID" | translate }}</mat-error>
                        } @else if (convertForm.get('email')?.hasError('maxlength')) {
                        <mat-error>{{ "EMAIL_MAX_LENGTH" | translate }}</mat-error>
                        } @else if (convertForm.get('email')?.hasError('taken')) {
                        <mat-error>{{ "EMAIL_TAKEN" | translate }}</mat-error>
                        }
                    </mat-form-field>
                    <app-password [autocomplete]="'new-password'" [control]="passwordControl">
                        <span label>{{ "PASSWORD" | translate }}</span>
                        @if (convertForm.get('password')?.hasError('required')) {
                        <span error>{{ "PASSWORD_REQUIRED" | translate }}</span>
                        } @else if (convertForm.get('password')?.hasError('minlength')) {
                        <span error>{{ "PASSWORD_MIN_LENGTH" | translate }}</span>
                        } @else if (convertForm.get('password')?.hasError('maxlength')) {
                        <span error>{{ "PASSWORD_MAX_LENGTH" | translate }}</span>
                        }
                    </app-password>
                    <app-password [autocomplete]="'new-password'" [control]="confirmPasswordControl">
                        <span label>{{ "CONFIRM_PASSWORD" | translate }}</span>
                        @if (convertForm.get('confirmPassword')?.hasError('required')) {
                        <span error>{{ "CONFIRM_PASSWORD_REQUIRED" | translate }}</span>
                        } @else if (convertForm.get('confirmPassword')?.hasError('mismatch')) {
                        <span error>{{ "PASSWORD_MISMATCH" | translate }}</span>
                        }
                    </app-password>
                    <button type="submit" style="display: none;"></button>
                </form>
            </div>
        </div>
        <div mat-dialog-actions align="end" class="dialog-actions">
            <button mat-button mat-dialog-close type="button" [disabled]="loading">{{ "CANCEL" | translate }}</button>
            <app-loading-button [loading]="loading" [disabled]="convertForm.invalid" variant="stroked"
                (buttonClicked)="submit()">{{ 'SIGN_UP' |
                translate }}</app-loading-button>
        </div>
    </div>
</div>